<!-- src/templates/proforma_invoices.html -->
{% extends "base.html" %}
{% block title %}Proforma Invoices{% endblock %}
{% block content %}
<h2>Proforma Invoices</h2>
<form method="get" class="mb-3">
  <div class="input-group">
    <input type="text" name="search" class="form-control" placeholder="Search proforma invoices" value="{{ request.query_params.search or '' }}">
    <button type="submit" class="btn btn-primary">Search</button>
  </div>
</form>
<table class="table table-striped">
  <thead>
    <tr>
      <th>ID</th>
      <th>Proforma Number</th>
      <th>Date</th>
      <th>Customer</th>
      <th>Total Amount</th>
      <th>Actions</th>
    </tr>
  </thead>
  <tbody>
    {% for pi in proforma_invoices %}
    <tr>
      <td>{{ pi.id }}</td>
      <td>{{ pi.proforma_number }}</td>
      <td>{{ pi.proforma_date }}</td>
      <td>{{ pi.customer_id }}</td>
      <td>{{ pi.total_amount }}</td>
      <td>
        <a href="/proforma_invoices/{{ pi.id }}/edit" class="btn btn-sm btn-primary">Edit</a>
        <a href="/proforma_invoices/{{ pi.id }}/delete" class="btn btn-sm btn-danger" onclick="return confirm('Are you sure?')">Delete</a>
        <a href="/proforma_invoices/{{ pi.id }}/pdf" class="btn btn-sm btn-info">PDF</a>
      </td>
    </tr>
    {% endfor %}
  </tbody>
</table>
<a href="/proforma_invoices/create" class="btn btn-success">Create Proforma Invoice</a>
{% endblock %}